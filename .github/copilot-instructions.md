# GitHub Copilot リポジトリ固有指示

## 基本方針（Basic Guidelines）

### 言語とスタイル（Language and Style）
- **コメントとドキュメントは日本語で記述してください**
- 変数名、関数名、クラス名は英語で記述し、意味が明確になるようにしてください
- コードの説明やドキュメンテーションコメントは日本語で詳細に記述してください
- コミットメッセージも日本語で記述してください

### プロジェクト構造（Project Structure）
このリポジトリはKotlin Spring Boot WebFluxを使用したAPIプロジェクトです：
- `api/` ディレクトリにメインのAPIコードが含まれています
- Gradle Kotlin DSLを使用してビルド設定を管理しています
- WebFluxとコルーチンを使用した非同期プログラミングを採用しています

## セキュリティベストプラクティス（Security Best Practices）

### コード提案時の考慮事項
- **入力値検証**: 全ての外部入力に対して適切な検証を実装してください
- **SQLインジェクション対策**: データベースクエリではパラメータ化クエリを使用してください
- **機密情報の保護**: API キー、パスワード、その他の機密情報をハードコーディングしないでください
- **ログ出力**: 機密情報をログに出力しないよう注意してください

## パフォーマンスと保守性（Performance and Maintainability）

### パフォーマンス指針
- **非同期処理**: WebFluxとコルーチンを活用した非ブロッキング処理を推奨します
- **効率的なデータ処理**: Streamやシーケンスを適切に使用してメモリ効率を考慮してください
- **キャッシュ戦略**: 適切な場所でキャッシュの実装を提案してください
- **データベース最適化**: N+1問題の回避やクエリ最適化を考慮してください

### コード品質と保守性
- **単一責任原則**: 各クラス・関数は単一の責任を持つよう設計してください
- **依存性注入**: Spring DIコンテナを適切に活用してください
- **イミュータブル設計**: 可能な限りデータクラスをimmutableに設計してください
- **関数型プログラミング**: Kotlinの関数型機能を活用してください

## テスト指針（Testing Guidelines）

### ユニットテスト
- **テストケース命名**: 日本語でテストの意図を明確に表現してください
- **テストデータ**: 意味のあるテストデータを使用してください
- **モック使用**: 外部依存をモックして単体テストの独立性を保ってください
- **例外テスト**: 正常系だけでなく異常系のテストも実装してください

## ドキュメンテーション標準（Documentation Standards）

### コメント記述
- **KDoc**: パブリックなAPI要素にはKDocコメントを必ず記述してください
- **複雑なロジック**: 複雑なビジネスロジックには日本語で詳細な説明を追加してください
- **TODO/FIXME**: 将来の改善点や既知の問題を明記してください

## 命名規則とコード構成（Naming Conventions and Code Organization）

### 命名規則
- **クラス名**: PascalCase（例: UserService, OrderHandler）
- **関数名**: camelCase（例: createUser, validateInput）
- **定数**: UPPER_SNAKE_CASE（例: MAX_RETRY_COUNT）
- **プロパティ**: camelCase（例: userId, emailAddress）

## EditorConfig 準拠（EditorConfig Compliance）

### ファイル形式の遵守
- **全てのファイルはEditorConfigの設定に従う必要があります**
- `.editorconfig` ファイルで定義された以下の設定を厳密に守ってください：
  - `end_of_line = lf`: 改行コードはLF（Unix形式）を使用
  - `insert_final_newline = true`: ファイル末尾に必ず改行を挿入
  - `trim_trailing_whitespace = true`: 行末の空白文字を削除
  - `charset = utf-8`: UTF-8エンコーディングを使用
- **マークダウンファイルの特例**: `*.md` ファイルでは行末空白の削除は無効（`trim_trailing_whitespace = false`）

### CI/CDでの自動チェック
- EditorConfig Checkがプルリクエスト時に自動実行されます
- 違反があると自動的にエラーとなるため、コミット前に必ず確認してください
- ローカルでの事前チェックを推奨します

これらの指針に従って、高品質で保守性が高く、セキュリティを考慮したKotlin Spring Bootアプリケーションの開発を支援してください。
